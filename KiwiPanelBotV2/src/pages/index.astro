---
import Layout from '../layouts/Layout.astro';

// Simuler l'état de connexion et les permissions
const user = {
	username: "StreamerKiwi",
	isAdmin: true,
	avatar: "https://via.placeholder.com/64x64",
	followers: 1250,
	subscribers: 89
};

const botStats = {
	status: "online",
	uptime: "3h 24m",
	commands: 47,
	activeChatters: 156
};
---

<Layout title="Accueil - TwitchBot Panel" isAdmin={user.isAdmin}>
	<!-- Hero Section -->
	<section class="hero">
		<div class="hero-content">
			<h1 class="hero-title">
				Bienvenue sur votre 
				<span class="gradient-text">TwitchBot Panel</span>
			</h1>
			<p class="hero-subtitle">
				Gérez votre bot Twitch facilement avec une interface moderne et intuitive
			</p>
			
			{user.isAdmin ? (
				<div class="hero-actions">
					<a href="/admin" class="btn btn-primary">
						⚙️ Accéder au Panel Admin
					</a>
					<a href="/giveaway" class="btn btn-secondary">
						🎁 Gérer les Giveaways
					</a>
				</div>
			) : (
				<div class="hero-actions">
					<a href="/commands" class="btn btn-primary">
						📋 Voir les Commandes
					</a>
					<a href="/giveaway" class="btn btn-secondary">
						🎁 Participer aux Giveaways
					</a>
				</div>
			)}
		</div>
	</section>

	<!-- Stats Section -->
	<section class="stats-section">
		<h2 class="section-title">📊 Statistiques en temps réel</h2>
		
		<div class="stats-grid">
			<div class="stat-card">
				<div class="stat-icon">🤖</div>
				<div class="stat-content">
					<h3>Statut du Bot</h3>
					<div class="stat-value">
						<span class={`status status-${botStats.status === 'online' ? 'online' : 'offline'}`}>
							{botStats.status === 'online' ? '✅ En ligne' : '❌ Hors ligne'}
						</span>
					</div>
					<p class="stat-detail">Uptime: {botStats.uptime}</p>
				</div>
			</div>

			<div class="stat-card">
				<div class="stat-icon">💬</div>
				<div class="stat-content">
					<h3>Chatteurs Actifs</h3>
					<div class="stat-value">{botStats.activeChatters}</div>
					<p class="stat-detail">utilisateurs connectés</p>
				</div>
			</div>

			<div class="stat-card">
				<div class="stat-icon">📝</div>
				<div class="stat-content">
					<h3>Commandes</h3>
					<div class="stat-value">{botStats.commands}</div>
					<p class="stat-detail">commandes disponibles</p>
				</div>
			</div>

			{user.isAdmin && (
				<div class="stat-card">
					<div class="stat-icon">👑</div>
					<div class="stat-content">
						<h3>Abonnés</h3>
						<div class="stat-value">{user.subscribers}</div>
						<p class="stat-detail">nouveaux ce mois</p>
					</div>
				</div>
			)}
		</div>
	</section>

	<!-- Features Section -->
	<section class="features-section">
		<h2 class="section-title">🚀 Fonctionnalités disponibles</h2>
		
		<div class="features-grid">
			{user.isAdmin ? (
				<>
					<div class="feature-card">
						<div class="feature-icon">⚙️</div>
						<h3>Panel d'Administration</h3>
						<p>Gérez entièrement votre bot, modifiez les commandes et surveillez l'activité.</p>
						<a href="/admin" class="btn btn-outline">Accéder au panel</a>
					</div>
					
					<div class="feature-card">
						<div class="feature-icon">🎁</div>
						<h3>Gestion des Giveaways</h3>
						<p>Créez, gérez et tirez au sort vos concours directement depuis l'interface.</p>
						<a href="/giveaway" class="btn btn-outline">Gérer les giveaways</a>
					</div>
					
					<div class="feature-card">
						<div class="feature-icon">📊</div>
						<h3>Statistiques Avancées</h3>
						<p>Analysez les données de votre chat et optimisez l'engagement de votre communauté.</p>
						<a href="/admin#stats" class="btn btn-outline">Voir les stats</a>
					</div>
					
					<div class="feature-card">
						<div class="feature-icon">👥</div>
						<h3>Gestion Utilisateurs</h3>
						<p>Modérez votre communauté et gérez les permissions des utilisateurs.</p>
						<a href="/admin#users" class="btn btn-outline">Gérer les users</a>
					</div>
				</>
			) : (
				<>
					<div class="feature-card">
						<div class="feature-icon">📋</div>
						<h3>Liste des Commandes</h3>
						<p>Découvrez toutes les commandes disponibles pour interagir avec le bot.</p>
						<a href="/commands" class="btn btn-outline">Voir les commandes</a>
					</div>
					
					<div class="feature-card">
						<div class="feature-icon">🎁</div>
						<h3>Giveaways</h3>
						<p>Participez aux concours organisés par le streamer et tentez de gagner des prix.</p>
						<a href="/giveaway" class="btn btn-outline">Voir les giveaways</a>
					</div>
					
					<div class="feature-card">
						<div class="feature-icon">🐠</div>
						<h3>Aquarium</h3>
						<p>Collectionnez et gérez vos poissons virtuels dans l'aquarium communautaire.</p>
						<a href="#" class="btn btn-outline">Mon aquarium</a>
					</div>
					
					<div class="feature-card">
						<div class="feature-icon">🔗</div>
						<h3>Réseaux Sociaux</h3>
						<p>Suivez le streamer sur ses différents réseaux sociaux.</p>
						<a href="#" class="btn btn-outline">Voir les liens</a>
					</div>
				</>
			)}
		</div>
	</section>

	<!-- Recent Activity (Admin only) -->
	{user.isAdmin && (
		<section class="activity-section">
			<h2 class="section-title">📈 Activité récente</h2>
			
			<div class="activity-feed">
				<div class="activity-item">
					<div class="activity-icon">🎁</div>
					<div class="activity-content">
						<h4>Nouveau giveaway créé</h4>
						<p>Giveaway "Clavier mécanique" lancé - 15 participants</p>
						<span class="activity-time">Il y a 2 heures</span>
					</div>
				</div>
				
				<div class="activity-item">
					<div class="activity-icon">👤</div>
					<div class="activity-content">
						<h4>Nouveau follower</h4>
						<p>GamerPro123 a commencé à vous suivre</p>
						<span class="activity-time">Il y a 4 heures</span>
					</div>
				</div>
				
				<div class="activity-item">
					<div class="activity-icon">💬</div>
					<div class="activity-content">
						<h4>Commande populaire</h4>
						<p>!aquarium utilisée 23 fois aujourd'hui</p>
						<span class="activity-time">Il y a 6 heures</span>
					</div>
				</div>
			</div>
		</section>
	)}
</Layout>

<style>
	/* Hero Section */
	.hero {
		text-align: center;
		padding: 4rem 0;
		background: linear-gradient(135deg, rgba(255, 75, 186, 0.1), rgba(255, 198, 155, 0.1));
		border-radius: 20px;
		margin-bottom: 3rem;
	}

	.hero-title {
		font-size: 3rem;
		font-weight: 700;
		margin-bottom: 1rem;
		line-height: 1.2;
	}

	.gradient-text {
		background: linear-gradient(135deg, var(--primary), var(--secondary));
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	.hero-subtitle {
		font-size: 1.25rem;
		color: var(--text-secondary);
		margin-bottom: 2rem;
		max-width: 600px;
		margin-left: auto;
		margin-right: auto;
	}

	.hero-actions {
		display: flex;
		gap: 1rem;
		justify-content: center;
		flex-wrap: wrap;
	}

	/* Section Titles */
	.section-title {
		font-size: 2rem;
		font-weight: 600;
		margin-bottom: 2rem;
		text-align: center;
		color: var(--secondary);
	}

	/* Stats Section */
	.stats-section {
		margin-bottom: 4rem;
	}

	.stats-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 2rem;
	}

	.stat-card {
		background: var(--surface);
		border: 1px solid var(--border);
		border-radius: 16px;
		padding: 2rem;
		text-align: center;
		transition: all 0.3s ease;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.stat-card:hover {
		transform: translateY(-5px);
		border-color: var(--secondary);
		box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
	}

	.stat-icon {
		font-size: 3rem;
		margin-bottom: 1rem;
	}

	.stat-content h3 {
		font-size: 1rem;
		color: var(--text-secondary);
		margin-bottom: 0.5rem;
		font-weight: 500;
	}

	.stat-value {
		font-size: 2rem;
		font-weight: 700;
		color: var(--text-primary);
		margin-bottom: 0.5rem;
	}

	.stat-detail {
		font-size: 0.875rem;
		color: var(--text-secondary);
		margin: 0;
	}

	/* Features Section */
	.features-section {
		margin-bottom: 4rem;
	}

	.features-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: 2rem;
	}

	.feature-card {
		background: var(--surface);
		border: 1px solid var(--border);
		border-radius: 16px;
		padding: 2rem;
		text-align: center;
		transition: all 0.3s ease;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.feature-card:hover {
		transform: translateY(-5px);
		border-color: var(--secondary);
		box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
	}

	.feature-icon {
		font-size: 3rem;
		margin-bottom: 1rem;
	}

	.feature-card h3 {
		font-size: 1.25rem;
		color: var(--text-primary);
		margin-bottom: 1rem;
		font-weight: 600;
	}

	.feature-card p {
		color: var(--text-secondary);
		margin-bottom: 2rem;
		flex-grow: 1;
	}

	/* Activity Section */
	.activity-section {
		margin-bottom: 4rem;
	}

	.activity-feed {
		max-width: 800px;
		margin: 0 auto;
	}

	.activity-item {
		display: flex;
		align-items: flex-start;
		gap: 1rem;
		background: var(--surface);
		border: 1px solid var(--border);
		border-radius: 12px;
		padding: 1.5rem;
		margin-bottom: 1rem;
		transition: all 0.3s ease;
	}

	.activity-item:hover {
		border-color: var(--secondary);
		transform: translateX(5px);
	}

	.activity-icon {
		font-size: 1.5rem;
		background: var(--surface-light);
		width: 48px;
		height: 48px;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		flex-shrink: 0;
	}

	.activity-content {
		flex-grow: 1;
	}

	.activity-content h4 {
		font-size: 1rem;
		color: var(--text-primary);
		margin-bottom: 0.25rem;
		font-weight: 600;
	}

	.activity-content p {
		color: var(--text-secondary);
		margin-bottom: 0.5rem;
		font-size: 0.9rem;
	}

	.activity-time {
		font-size: 0.875rem;
		color: var(--text-secondary);
		font-style: italic;
	}

	/* Responsive */
	@media (max-width: 768px) {
		.hero-title {
			font-size: 2rem;
		}

		.hero-subtitle {
			font-size: 1rem;
		}

		.hero-actions {
			flex-direction: column;
			align-items: center;
		}

		.stats-grid,
		.features-grid {
			grid-template-columns: 1fr;
		}
	}
</style>
